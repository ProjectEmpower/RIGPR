<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>tempAddress = "";
check = false;
zip = ""
msg = ""
update = ""
updateMsg = ""
ECurVer = 1.0
global.AddressINI = "editor_files/Address.ini";
global.editorINI = "editor_files/editor.ini";
if(!file_exists(global.AddressINI))
{
   msg = get_string_async("Please enter web address; download and install must complete, this may take several seconds seconds.","");
}
else
{
    ini_open(global.AddressINI);
    global.Address = ini_read_string("Address","Link","");
    ini_close();
    ini_open(global.editorINI)
    global.CurVer = ini_read_real("General","Version",1.0);
    ini_close();
    update = http_get_file(global.Address+"Update.ini", "Update.ini");

}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(check == true and file_exists("editor_files/editor.ini"))
  room = RoomDLCheck;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="63">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>i_d = ds_map_find_value(async_load, "id");
if(i_d == msg)
{
   if (ds_map_find_value(async_load, "status"))
      {
      if( ds_map_find_value(async_load, "result") != "")
         {
            global.Address = ds_map_find_value(async_load, "result");
            
            if(string_copy(global.Address,1,4) == "www." and string_copy(global.Address,1,7) != "http://")
            {
                global.Address = "http://"+global.Address;
            }
            if(string_copy(global.Address,1,11) != "http://www.")
            {
                global.Address = "http://www."+global.Address;
            }
            if(string_char_at(global.Address, string_length(global.Address)) != "/")
            {
                global.Address = global.Address + "/" 
            } 
            zip = http_get_file(global.Address+"editor_files.zip", "editor_files.zip");

         }
      }
  }
  if(i_d == updateMsg)
  {
    if (ds_map_find_value(async_load, "status"))
    {
        updateMsg = ""; 
        zip = http_get_file(global.Address+"editor_files.zip", "editor_files.zip");

    }
    else
    {
        script_execute(StartGame);  
        updateMsg = "";
        
    }
  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="62">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ds_map_find_value(async_load, "id") == zip
   {

    status = ds_map_find_value(async_load, "status");
    if status == 0
    {
        path = ds_map_find_value(async_load, "result");
        zip = zip_unzip(path, working_directory);
        if zip &gt; 0
        {
            global.Download = true;
            ini_open(global.editorINI)
            global.CurVer = ECurVer;
            ini_write_real("General","Version",global.CurVer);
            ini_close(); 
            show_message_async("Download Complete.");
            file_delete("editor_files.zip");
            check = true;
        
        }
        else
        {
            msg = get_string_async("Download failed, please make sure that the address has been entered correctly.",global.Address);  
            zip = "";
        }
    }
}
if ds_map_find_value(async_load, "id") == update
   {

    status = ds_map_find_value(async_load, "status");
    if status == 0
    {
        ini_open("Update.ini")
        ECurVer = ini_read_real("Update","Version",1.0)
        ini_close();
        if(global.CurVer &lt; ECurVer)
            updateMsg = show_question_async("There is an update, would you like to download?");
        else
            script_execute(StartGame);  
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
